<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Day 5 — Riddles</title>
  <style>
    body {
      background: #0f172a;
      color: #e2e8f0;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .card {
      background: #1e293b;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 20px;
      border: 1px solid #334155;
    }
    input {
      background: #0f172a;
      border: 1px solid #475569;
      padding: 6px;
      color: #f1f5f9;
      border-radius: 4px;
    }
    button {
      padding: 6px 10px;
      background: #facc15;
      border: none;
      color: #1e293b;
      font-weight: bold;
      border-radius: 4px;
      cursor: pointer;
    }
    .correct { color: #4ade80; font-weight: bold; }
    .incorrect { color: #f87171; font-weight: bold; }
    .digit-box {
      background: #14532d;
      padding: 10px;
      border-radius: 6px;
      margin-top: 10px;
      color: #bbf7d0;
      font-size: 14px;
      display: none;
    }
  </style>
</head>

<body>

<h1>Day 5 — Riddles</h1>
<p>Solve both problems to reveal the first digit of the combination lock.</p>

<!-- RIDDLE 1 -->
<div class="card">
  <h3>Problem 1 — Riddle</h3>
  <p>
    “By vicious beast I'm guarded,<br>
    By death on silver wings.<br>
    Like gold, I last eternal,<br>
    Treasure to queens and kings.”
  </p>

  <input id="r1" placeholder="answer" />
  <button onclick="checkR1()">Submit</button>
  <span id="r1-status"></span>
</div>

<!-- RIDDLE 2 -->
<div class="card">
  <h3>Problem 2 — Solve for x</h3>
  <p style="font-family: monospace;">
    7·3^x + 3^x + 3^x = 9·3^x · 27 · 3^x · 9^x
  </p>

  <input id="r2" placeholder="x = ?" />
  <button onclick="checkR2()">Submit</button>
  <span id="r2-status"></span>
</div>

<!-- RESULT -->
<div id="digit" class="digit-box">
  Great job! The first digit of the combination lock is <strong>5</strong>.
</div>

<script>
  let done1 = false;
  let done2 = false;

  function normalize(s) {
    return s.toLowerCase().replace(/[^a-z0-9-]/g, "");
  }

  // Check riddle 1
  function checkR1() {
    const val = normalize(document.getElementById("r1").value);
    const status = document.getElementById("r1-status");

    if (val === "honey") {
      status.innerHTML = "<span class='correct'>✔ correct</span>";
      done1 = true;
      reveal();
    } else {
      status.innerHTML = "<span class='incorrect'>✖ try again</span>";
    }
  }

  // Check riddle 2
  function checkR2() {
    const raw = document.getElementById("r2").value.trim().toLowerCase();
    const status = document.getElementById("r2-status");

    let num = Number(raw);
    if (isNaN(num)) {
      const m = raw.match(/-?\d+/);
      if (m) num = Number(m[0]);
    }

    if (num === -1) {
      status.innerHTML = "<span class='correct'>✔ correct</span>";
      done2 = true;
      reveal();
    } else {
      status.innerHTML = "<span class='incorrect'>✖ try again</span>";
    }
  }

  function reveal() {
    if (done1 && done2) {
      document.getElementById("digit").style.display = "block";
    }
  }
</script>

</body>
</html>
