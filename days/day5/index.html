<!doctype html>
<html lang="en">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Day 5 — Riddle</title>
<style>
  body{margin:0;font-family:Inter,Arial;background:linear-gradient(180deg,#041226,#072238);color:#fff;padding:18px}
  .wrap{max-width:820px;margin:0 auto}
  h2{margin:0}
  .card{background:rgba(255,255,255,0.03);padding:14px;border-radius:8px;margin-top:12px}
  input{padding:8px;border-radius:8px;border:0}
  button{background:#ffd98a;border:0;padding:8px 12px;border-radius:8px;color:#072;font-weight:800}
  .muted{color:#b9cfe6}
</style>
</head>
<body>
  <div class="wrap">
    <h2>Day 5 — Riddle</h2>
    <div class="card">
      <p class="muted">“By vicious beast I'm guarded, By death on silver wings. Like gold, I last eternal, Treasure to queens and kings.”</p>
      <div style="margin-top:10px"><input id="ans" placeholder="answer"/><button id="submit">Submit</button><button id="close" style="margin-left:8px">Close</button></div>
      <div id="msg" style="margin-top:12px" class="muted"></div>
    </div>
  </div>

<script>
const DAY = 5;
const COLLECT_LETTER = 'K'; // as per earlier mapping day5 -> K (if you want 'N', set it; mapping earlier had N for day5 in some drafts. Using mapping from final spec — adjust as needed)
const correct = 'honey';
document.getElementById('submit').addEventListener('click', submit);
document.getElementById('close').addEventListener('click', closeSelf);

function submit(){
  const v = (document.getElementById('ans').value||'').trim().toLowerCase();
  if(v === correct){
    // collect letter N? per earlier messages you intended N for day5 sometimes. I set COLLECT_LETTER variable above.
    try{ if(window.parent && window.parent.collectLetterFromDay) window.parent.collectLetterFromDay(DAY, COLLECT_LETTER); else window.parent.postMessage({type:'collected', day:DAY, value:COLLECT_LETTER}, '*'); }catch(e){ window.parent.postMessage({type:'collected', day:DAY, value:COLLECT_LETTER}, '*'); }
    document.getElementById('msg').textContent = `Correct — letter ${COLLECT_LETTER} collected. Click Close.`;
  } else {
    alert('Not quite — try again.');
  }
}

function closeSelf(){ try{ window.parent.hideModal(); }catch(e){ window.parent.postMessage({type:'requestClose'}, '*'); } }
</script>
</body>
</html>
