<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Day 5 — Riddles</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #020617;
      --bg-soft: #020617;
      --shell: #020617;
      --card: #020617;
      --card-soft: #020617;
      --text-main: #e5e7eb;
      --text-soft: #9ca3af;
      --border-soft: #1f2933;
      --accent-yellow: #facc15;
      --accent-yellow-soft: #fde047;
      --accent-pink: #fb7185;
      --accent-pink-soft: #fecdd3;
      --accent-green: #22c55e;
      --accent-red: #f97373;
      --radius-lg: 22px;
      --radius-md: 16px;
      --radius-sm: 9999px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      color: var(--text-main);
      background:
        radial-gradient(circle at top, #0b1220 0%, #020617 55%, #020617 100%);
    }

    .page-shell {
      max-width: 1200px;
      margin: 0 auto;
      padding: 32px 16px 40px;
    }

    .main-header {
      margin-bottom: 20px;
    }

    .main-title {
      font-size: 34px;
      line-height: 1.1;
      font-weight: 700;
      letter-spacing: -0.03em;
      margin-bottom: 6px;
    }

    .main-subtitle {
      color: var(--text-soft);
      font-size: 14px;
      max-width: 580px;
    }

    .content-shell {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2fr);
      gap: 24px;
      border-radius: 32px;
      padding: 20px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      background:
        linear-gradient(135deg, #020617 0%, #020617 40%, #020617 100%);
      box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.9),
        0 30px 80px rgba(15, 23, 42, 0.95);
    }

    @media (max-width: 900px) {
      .content-shell {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      border-radius: var(--radius-lg);
      background: radial-gradient(circle at top left,
          rgba(148, 163, 184, 0.05),
          rgba(15, 23, 42, 0.98));
      border: 1px solid rgba(51, 65, 85, 0.9);
      padding: 18px 18px 16px;
    }

    .card + .card {
      margin-top: 12px;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .card-title {
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-soft);
      font-weight: 600;
    }

    .status-pill {
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      border-width: 1px;
      border-style: solid;
    }

    .status-correct {
      border-color: rgba(22, 163, 74, 0.7);
      background: rgba(22, 163, 74, 0.15);
      color: #bbf7d0;
    }

    .status-incorrect {
      border-color: rgba(248, 113, 113, 0.7);
      background: rgba(248, 113, 113, 0.1);
      color: #fecaca;
    }

    .status-empty {
      border-color: rgba(148, 163, 184, 0.35);
      background: rgba(15, 23, 42, 0.7);
      color: rgba(148, 163, 184, 0.8);
    }

    .problem-body {
      font-size: 14px;
      color: var(--text-main);
      margin-bottom: 10px;
    }

    .problem-body p {
      margin: 0 0 4px;
    }

    .problem-body code {
      font-family: "SF Mono", ui-monospace, Menlo, Consolas, monospace;
      font-size: 13px;
      background: rgba(15, 23, 42, 0.9);
      padding: 3px 6px;
      border-radius: 6px;
      border: 1px solid rgba(30, 64, 175, 0.5);
    }

    .input-row {
      display: flex;
      gap: 8px;
      margin-top: 4px;
    }

    .input-row input {
      flex: 0 0 180px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(71, 85, 105, 0.9);
      background: #020617;
      color: var(--text-main);
      font-size: 13px;
      outline: none;
    }

    .input-row input:focus {
      border-color: rgba(250, 204, 21, 0.9);
      box-shadow: 0 0 0 1px rgba(250, 204, 21, 0.6);
    }

    .btn-pill {
      border-radius: 999px;
      border: none;
      padding: 7px 14px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      background: var(--accent-yellow);
      color: #111827;
      box-shadow: 0 10px 25px rgba(250, 204, 21, 0.35);
    }

    .btn-pill:hover {
      background: var(--accent-yellow-soft);
    }

    .side-header {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .side-text {
      font-size: 13px;
      color: var(--text-soft);
      line-height: 1.5;
      margin-bottom: 12px;
    }

    .legend {
      font-size: 12px;
      color: var(--text-soft);
    }

    .legend-row {
      display: flex;
      align-items: center;
      margin-bottom: 6px;
    }

    .legend-swatch {
      width: 14px;
      height: 14px;
      border-radius: 4px;
      margin-right: 6px;
    }

    .legend-yellow {
      background: var(--accent-yellow);
    }

    .legend-green {
      background: var(--accent-green);
    }

    .legend-pink {
      background: var(--accent-pink);
    }

    .legend-blue {
      background: #4f46e5;
    }

    .footer-row {
      margin-top: 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
      font-size: 12px;
    }

    .btn-secondary,
    .btn-back {
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 12px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: #020617;
      color: var(--text-main);
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn-secondary:hover {
      background: rgba(15, 23, 42, 0.9);
    }

    .btn-back {
      border-color: rgba(248, 113, 113, 0.7);
      background: rgba(248, 113, 113, 0.15);
    }

    .btn-back:hover {
      background: rgba(248, 113, 113, 0.3);
    }

    .digit-banner {
      margin-top: 8px;
      font-size: 13px;
      padding: 10px 12px;
      border-radius: 14px;
      background: radial-gradient(circle at top left,
          rgba(34, 197, 94, 0.35),
          rgba(5, 46, 22, 0.98));
      border: 1px solid rgba(22, 163, 74, 0.85);
      color: #bbf7d0;
      display: none;
    }

    .digit-banner strong {
      font-size: 20px;
    }
  </style>
</head>
<body>
  <div class="page-shell">
    <header class="main-header">
      <h1 class="main-title">Day 5 — Riddles</h1>
      <p class="main-subtitle">
        Two little puzzles stand between you and the first digit of the
        combination lock. Solve the riddle, crack the exponent equation,
        and the lock will quietly reveal its first number.
      </p>
    </header>

    <div class="content-shell">
      <!-- LEFT: main riddles card -->
      <section>
        <div class="card">
          <div class="card-header">
            <div class="card-title">Riddle 1 — Sweet treasure</div>
            <span id="status1" class="status-pill status-empty">
              waiting…
            </span>
          </div>

          <div class="problem-body">
            <p>“By vicious beast I'm guarded,</p>
            <p>By death on silver wings.</p>
            <p>Like gold, I last eternal,</p>
            <p>Treasure to queens and kings.”</p>
          </div>

          <div class="input-row">
            <input id="riddle1" autocomplete="off" placeholder="answer" />
            <button class="btn-pill" type="button" onclick="checkRiddle1()">
              Submit
            </button>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title">Problem 2 — Solve for x</div>
            <span id="status2" class="status-pill status-empty">
              waiting…
            </span>
          </div>

          <div class="problem-body">
            <p>Find the value of <strong>x</strong>:</p>
            <p>
              <code>7·3^x + 3^x + 3^x = 9·3^x · 27 · 3^x · 9^x</code>
            </p>
          </div>

          <div class="input-row">
            <input
              id="riddle2"
              autocomplete="off"
              placeholder="x = ?"
            />
            <button class="btn-pill" type="button" onclick="checkRiddle2()">
              Submit
            </button>
          </div>

          <div id="digit-banner" class="digit-banner">
            Nice work — you solved both puzzles.
            The first digit of the combination lock is
            <strong>5</strong>.
          </div>

          <div class="footer-row">
            <button class="btn-secondary" type="button" onclick="resetPuzzles()">
              ⟲ Reset puzzles
            </button>
            <!-- Change this href to wherever your calendar lives -->
            <a class="btn-back" href="../../index.html">
              ← Back to calendar
            </a>
          </div>
        </div>
      </section>

      <!-- RIGHT: how it works card -->
      <aside>
        <div class="card">
          <div class="side-header">How it works</div>
          <p class="side-text">
            This day is a quieter one: no enemies, no maze, just your brain.
            Solve both parts and the combination lock will hand you its
            first digit.
          </p>

          <div class="legend">
            <div class="legend-row">
              <span class="legend-swatch legend-yellow"></span>
              <span><strong>Problem 1:</strong> a word riddle. Type the object it describes.</span>
            </div>
            <div class="legend-row">
              <span class="legend-swatch legend-blue"></span>
              <span><strong>Problem 2:</strong> a little exponent equation. Give the value of x.</span>
            </div>
            <div class="legend-row">
              <span class="legend-swatch legend-green"></span>
              <span><strong>Green status:</strong> correct answer.</span>
            </div>
            <div class="legend-row">
              <span class="legend-swatch legend-pink"></span>
              <span><strong>Red status:</strong> not quite right — try again.</span>
            </div>
          </div>

          <p class="side-text" style="margin-top: 10px;">
            Answers are not case-sensitive. For the math one, you can write
            <code>-1</code> or <code>x = -1</code> — both count.
          </p>
        </div>
      </aside>
    </div>
  </div>

  <script>
    let solved1 = false;
    let solved2 = false;

    function normalize(str) {
      return str.toLowerCase().replace(/[^a-z0-9-]/g, "").trim();
    }

    function updateStatus(id, state) {
      const el = document.getElementById(id);
      el.classList.remove("status-correct", "status-incorrect", "status-empty");

      if (state === "correct") {
        el.classList.add("status-correct");
        el.textContent = "✓ correct";
      } else if (state === "incorrect") {
        el.classList.add("status-incorrect");
        el.textContent = "✗ try again";
      } else {
        el.classList.add("status-empty");
        el.textContent = "waiting…";
      }
    }

    function revealDigitIfReady() {
      if (solved1 && solved2) {
        document.getElementById("digit-banner").style.display = "block";
      }
    }

    function checkRiddle1() {
      const val = normalize(document.getElementById("riddle1").value);
      if (val === "honey") {
        solved1 = true;
        updateStatus("status1", "correct");
        revealDigitIfReady();
      } else {
        solved1 = false;
        updateStatus("status1", "incorrect");
        document.getElementById("digit-banner").style.display = "none";
      }
    }

    function checkRiddle2() {
      const raw = document.getElementById("riddle2").value.trim().toLowerCase();
      let num = Number(raw);

      if (isNaN(num)) {
        const match = raw.match(/-?\d+(\.\d+)?/);
        if (match) num = Number(match[0]);
      }

      if (num === -1) {
        solved2 = true;
        updateStatus("status2", "correct");
        revealDigitIfReady();
      } else {
        solved2 = false;
        updateStatus("status2", "incorrect");
        document.getElementById("digit-banner").style.display = "none";
      }
    }

    function resetPuzzles() {
      solved1 = false;
      solved2 = false;
      document.getElementById("riddle1").value = "";
      document.getElementById("riddle2").value = "";
      updateStatus("status1", "empty");
      updateStatus("status2", "empty");
      document.getElementById("digit-banner").style.display = "none";
      document.getElementById("riddle1").focus();
    }
  </script>
</body>
</html>
